// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: users.sql

package database

import (
	"context"
)

const createNormalUser = `-- name: CreateNormalUser :exec
INSERT INTO users (role_id, first_name, last_name, email, password, subscription_id)
VALUES (2,?, ?, ?, ?, 2)
`

type CreateNormalUserParams struct {
	FirstName string
	LastName  string
	Email     string
	Password  string
}

func (q *Queries) CreateNormalUser(ctx context.Context, arg CreateNormalUserParams) error {
	_, err := q.db.ExecContext(ctx, createNormalUser,
		arg.FirstName,
		arg.LastName,
		arg.Email,
		arg.Password,
	)
	return err
}

const createSuperUser = `-- name: CreateSuperUser :exec
INSERT INTO users (role_id, first_name, last_name, email, password, subscription_id)
VALUES (1,?, ?, ?, ?, 1)
`

type CreateSuperUserParams struct {
	FirstName string
	LastName  string
	Email     string
	Password  string
}

func (q *Queries) CreateSuperUser(ctx context.Context, arg CreateSuperUserParams) error {
	_, err := q.db.ExecContext(ctx, createSuperUser,
		arg.FirstName,
		arg.LastName,
		arg.Email,
		arg.Password,
	)
	return err
}

const getUserByEmail = `-- name: GetUserByEmail :one
SELECT user_id, role_id, first_name, last_name, email, password, subscription_id, created_at, updated_at FROM users WHERE email = ?
`

func (q *Queries) GetUserByEmail(ctx context.Context, email string) (User, error) {
	row := q.db.QueryRowContext(ctx, getUserByEmail, email)
	var i User
	err := row.Scan(
		&i.UserID,
		&i.RoleID,
		&i.FirstName,
		&i.LastName,
		&i.Email,
		&i.Password,
		&i.SubscriptionID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getUserByID = `-- name: GetUserByID :one
SELECT user_id, role_id, first_name, last_name, email, password, subscription_id, created_at, updated_at FROM users WHERE user_id = ?
`

func (q *Queries) GetUserByID(ctx context.Context, userID int32) (User, error) {
	row := q.db.QueryRowContext(ctx, getUserByID, userID)
	var i User
	err := row.Scan(
		&i.UserID,
		&i.RoleID,
		&i.FirstName,
		&i.LastName,
		&i.Email,
		&i.Password,
		&i.SubscriptionID,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const updateUserToNormalUser = `-- name: UpdateUserToNormalUser :exec
UPDATE users SET role_id = 2 WHERE user_id = ?
`

func (q *Queries) UpdateUserToNormalUser(ctx context.Context, userID int32) error {
	_, err := q.db.ExecContext(ctx, updateUserToNormalUser, userID)
	return err
}

const updateUserToSuperUser = `-- name: UpdateUserToSuperUser :exec
UPDATE users SET role_id = 1 WHERE user_id = ?
`

func (q *Queries) UpdateUserToSuperUser(ctx context.Context, userID int32) error {
	_, err := q.db.ExecContext(ctx, updateUserToSuperUser, userID)
	return err
}
